<p-toast />

<div class="scrollable flex justify-end items-center gap-4 p-4 border-bottom">
  <p-button
    [icon]="isDark() ? 'pi pi-sun' : 'pi pi-moon'"
    class="p-button-outlined p-button-sm"
    (onClick)="toggleDark()"
  ></p-button>

  <p-select
    #languageSelectRef
    [options]="languages"
    [(ngModel)]="selectedLanguage"
    optionLabel="name"
    [filter]="false"
    [showClear]="false"
    placeholder="Select Language"
    class="w-full md:w-40"
    (onChange)="onLanguageChange($event, languageSelectRef)"
  >
    <ng-template #selectedItem let-selectedOption>
      <div class="flex items-center gap-2">
        <img
          [src]="getFlagUrl(selectedOption.code)"
          style="width: 18px; height: 12px; object-fit: cover"
        />
        <div>{{ selectedOption.name }}</div>
      </div>
    </ng-template>
    <ng-template let-lang #item>
      <div class="flex items-center gap-2">
        <img
          [src]="getFlagUrl(lang.code)"
          style="width: 18px; height: 12px; object-fit: cover"
        />
        <div>{{ lang.name }}</div>
      </div>
    </ng-template>
  </p-select>
</div>

<div class="card flex flex-col items-center overflow-hidden">
  <h1
    pAnimateOnScroll
    class="text-4xl font-bold text-center mb-12 opacity-100"
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
  >
    {{ "HEADLINE" | translate }}
  </h1>

  <h2
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
    leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
    class="text-xl font-bold text-center mb-12"
  >
    {{ "SUBHEADLINE" | translate }}
  </h2>

  <p-button
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
    leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
    class="text-3xl font-bold text-center mb-12"
    icon="pi pi-envelope "
    label="E-mail"
    (click)="scrollToForm()"
  ></p-button>

  <p-button
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
    leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
    class="text-3xl font-bold text-center mb-12"
    icon="pi pi-phone"
    label="+36 20 226 09 59"
    (click)="callPhone()"
  ></p-button>
  <p class="text-center text-muted-color text-sm mb-4">
    {{ "CONTACT.CTA" | translate }}
  </p>

  <div class="h-[15rem]"></div>

  <div
    *ngIf="scrollOpacity > 0"
    class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center gap-2"
    [ngClass]="{
      'opacity-100': scrollOpacity === 1,
      'opacity-50': scrollOpacity < 1 && scrollOpacity > 0
    }"
    [style.opacity]="scrollOpacity"
    style="transition: opacity 1.2s ease-in-out"
  >
    <span class="text-xl font-medium drop-shadow">
      {{ "SCROLL_DOWN" | translate }}
    </span>
    <span
      class="animate-bounce h-8 w-8 bg-primary text-primary-contrast rounded-full inline-flex items-center justify-center shadow-lg"
    >
      <i class="pi pi-arrow-down"></i>
    </span>
  </div>

  <div class="h-[30rem]"></div>

  <h2
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 slide-in-from-t-8 animate-duration-1000"
    leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
    class="text-3xl font-bold text-center mb-12"
  >
    {{ "SERVICES.TITLE" | translate }}
  </h2>

  <div class="flex flex-wrap justify-center gap-8">
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col border border-primary-200 shadow-lg items-center w-fit rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full bg-primary text-primary-contrast w-12 h-12 flex items-center justify-center"
      >
        <mat-icon aria-hidden="false" fontIcon="ac_unit"></mat-icon>
      </div>
      <p-organization-chart class="" [value]="data" [collapsible]="true">
        <ng-template let-node pTemplate="default">
          <div class="font-medium text-base break-words">
            {{ node.label }}
          </div>
        </ng-template>
      </p-organization-chart>
    </div>

    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col border border-primary-200 shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full bg-primary text-primary-contrast w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-building !text-2xl"></i>
      </div>
      <span class="text-2xl font-bold">{{
        "SERVICES.MAINTENANCE.TITLE" | translate
      }}</span>
      <span class="text-muted-color text-center">
        {{ "SERVICES.MAINTENANCE.DESCRIPTION" | translate }}
      </span>
    </div>
  </div>

  <div class="h-[30rem]"></div>

  <h2
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
    leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
    class="text-3xl font-bold text-center mb-12"
  >
    {{ "CLIENT_TYPES.TITLE" | translate }}
  </h2>

  <div class="flex flex-wrap justify-center gap-8">
    <!-- Private -->
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col border border-primary-200 shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full bg-primary text-primary-contrast w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-user !text-2xl"></i>
      </div>
      <span class="text-2xl font-medium">{{
        "CLIENT_TYPES.PRIVATE.TITLE" | translate
      }}</span>
      <span class="text-muted-color text-center">
        {{ "CLIENT_TYPES.PRIVATE.DESCRIPTION" | translate }}
      </span>
    </div>

    <!-- Communities -->
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col border border-primary-200 shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full bg-primary text-primary-contrast w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-users !text-2xl"></i>
      </div>
      <span class="text-2xl font-medium">{{
        "CLIENT_TYPES.COMMUNITY.TITLE" | translate
      }}</span>
      <span class="text-muted-color text-center">
        {{ "CLIENT_TYPES.COMMUNITY.DESCRIPTION" | translate }}
      </span>
    </div>

    <!-- Businesses -->
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col border border-primary-200 shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full bg-primary text-primary-contrast w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-building !text-2xl"></i>
      </div>
      <span class="text-2xl font-medium">{{
        "CLIENT_TYPES.BUSINESS.TITLE" | translate
      }}</span>
      <span class="text-muted-color text-center">
        {{ "CLIENT_TYPES.BUSINESS.DESCRIPTION" | translate }}
      </span>
    </div>
  </div>

  <div class="h-[30rem]"></div>

  <!-- Benefits -->
  <h2
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 slide-in-from-t-8 animate-duration-1000"
    leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
    class="text-3xl font-bold text-center mb-12"
  >
    {{ "BENEFITS.TITLE" | translate }}
  </h2>

  <div class="flex flex-wrap justify-center gap-8">
    <!-- Eco -->
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-purple-500 text-white border-purple-500 shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full border-2 border-white w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-globe !text-2xl"></i>
      </div>
      <span class="text-2xl font-bold">{{
        "BENEFITS.ECO.TITLE" | translate
      }}</span>
      <span class="text-center">{{
        "BENEFITS.ECO.DESCRIPTION" | translate
      }}</span>
    </div>

    <!-- Economy -->
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-75 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-teal-500 text-white border-teal-500 shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full border-2 border-white w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-dollar !text-2xl"></i>
      </div>
      <span class="text-2xl font-bold">{{
        "BENEFITS.ECONOMY.TITLE" | translate
      }}</span>
      <span class="text-center">{{
        "BENEFITS.ECONOMY.DESCRIPTION" | translate
      }}</span>
    </div>

    <!-- Comfort -->
    <div
      pAnimateOnScroll
      enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
      leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
      class="flex flex-col bg-indigo-500 text-white border-indigo-500 shadow-lg justify-center items-center max-w-80 rounded-2xl p-8 gap-4"
    >
      <div
        class="rounded-full border-2 border-white w-12 h-12 flex items-center justify-center"
      >
        <i class="pi pi-wifi !text-2xl"></i>
      </div>
      <span class="text-2xl font-bold">{{
        "BENEFITS.COMFORT.TITLE" | translate
      }}</span>
      <span class="text-center">{{
        "BENEFITS.COMFORT.DESCRIPTION" | translate
      }}</span>
    </div>
  </div>

  <div class="h-[30rem]"></div>

  <div
    #contactFormRef
    pAnimateOnScroll
    enterClass="animate-enter fade-in-10 zoom-in-50 animate-duration-1000"
    leaveClass="animate-leave fade-out zoom-in-50 animate-duration-1000"
    class="flex flex-col border border-primary-200 shadow-lg items-center w-full max-w-4xl px-4 sm:px-6 md:px-8 lg:px-12 mx-auto rounded-2xl py-6 sm:py-8 md:py-10 gap-4"
  >
    <h2 class="text-xl sm:text-2xl font-semibold text-center">
      {{ "CONTACT.TITLE" | translate }}
    </h2>

    <p
      class="text-center text-muted-color text-sm sm:text-base mb-4 px-2 sm:px-0"
    >
      {{ "CONTACT.DESCRIPTION" | translate }}
    </p>

    <form
      (ngSubmit)="sendMessage()"
      #form="ngForm"
      class="w-full space-y-4 sm:space-y-5"
    >
      <!-- Name -->
      <div class="flex flex-col gap-1">
        <label for="name" class="text-sm font-medium">{{
          "CONTACT.FORM.NAME" | translate
        }}</label>
        <input
          id="name"
          type="text"
          pInputText
          name="name"
          [(ngModel)]="name"
          class="w-full"
          required
          [placeholder]="'CONTACT.FORM.ENTER_NAME' | translate"
        />
      </div>

      <!-- Email -->
      <div class="flex flex-col gap-1">
        <label for="email" class="text-sm font-medium">{{
          "CONTACT.FORM.EMAIL" | translate
        }}</label>
        <input
          id="email"
          type="email"
          pInputText
          name="email"
          [(ngModel)]="email"
          class="w-full"
          required
          [placeholder]="'CONTACT.FORM.ENTER_EMAIL' | translate"
        />
      </div>

      <!-- Phone -->
      <div class="flex flex-col gap-1">
        <label for="phone" class="text-sm font-medium">{{
          "CONTACT.FORM.PHONE" | translate
        }}</label>
        <input
          id="phone"
          type="tel"
          pInputText
          name="phone"
          [(ngModel)]="phone"
          class="w-full"
          [placeholder]="'CONTACT.FORM.ENTER_PHONE' | translate"
        />
      </div>

      <!-- Message -->
      <div class="flex flex-col gap-1">
        <label for="message" class="text-sm font-medium">{{
          "CONTACT.FORM.MESSAGE" | translate
        }}</label>
        <textarea
          id="message"
          pTextarea
          name="message"
          [(ngModel)]="message"
          rows="5"
          class="w-full"
          required
          [placeholder]="'CONTACT.FORM.ENTER_MESSAGE' | translate"
        ></textarea>
      </div>

      <!-- Submit -->
      <button
        pButton
        type="submit"
        [label]="'CONTACT.FORM.SUBMIT' | translate"
        [disabled]="form.invalid"
        class="w-full mt-4 sm:mt-6"
      ></button>
    </form>

    <p class="text-center text-muted-color text-sm sm:text-base mt-6 sm:mt-8">
      <strong>Mitrik László e.v. </strong>
    </p>
  </div>

  <div class="h-[5rem]"></div>

  <p-scrolltop
    target="window"
    [threshold]="100"
    icon="pi pi-arrow-up"
    [buttonProps]="{ severity: 'contrast', raised: true, rounded: true }"
  />
</div>
